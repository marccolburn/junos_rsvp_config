{% for interface in rsvp_interfaces %}
set interfaces {{ interface.name }} unit {{ interface.unit }} family mpls
set protocols rsvp interface {{ interface.name }}.{{ interface.unit }}
set protocols mpls interface {{ interface.name }}.{{ interface.unit }}
{% endfor %}
{% if rsvp_paths is defined %}
{% for path in rsvp_paths %}
{% for hop in path.hops %}
set protocols mpls path {{ path.name }} {{ hop.name }} {{ hop.type }}
{% endfor %}
{% endfor %}
{% endif %}
{% if rsvp_ingress_lsps is defined %}
{% for path in rsvp_ingress_lsps %}
set protocols mpls label-switched-path {{ path.name }} to {{ path.dest }}
{% if path.cspf == False %}
set protocols mpls label-switched-path {{ path.name }} no-cspf
{% endif %}
{% if path.primary_path is defined %}
set protocols mpls label-switched-path {{ path.name }} primary {{ path.primary_path }}
{% endif %} 
{% endfor %}
{% endif %}
